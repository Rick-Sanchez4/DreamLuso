<app-agent-sidebar></app-agent-sidebar>

<div class="ml-72 min-h-screen transition-all duration-300 bg-gradient-to-br from-gray-50 via-white to-green-50/20 dark:from-dark-950 dark:via-dark-900 dark:to-green-950">
  
  <!-- Header -->
  <div class="bg-gradient-to-r from-green-800 via-teal-800 to-emerald-800 dark:from-green-950 dark:via-teal-950 dark:to-emerald-950 text-white shadow-xl sticky top-0 z-40">
    <div class="px-8 py-6">
      <div class="flex items-center justify-between">
        <div class="animate-fade-in-up">
          <div class="inline-block px-4 py-2 bg-white/10 backdrop-blur-sm rounded-full text-xs font-semibold mb-2">
            üë§ Perfil do Agente
          </div>
          <h1 class="text-3xl font-bold mb-1">Meu Perfil</h1>
          <p class="text-white/70 text-sm">Gerir as informa√ß√µes da sua conta</p>
        </div>
        <div class="flex items-center gap-4">
          <!-- Theme Toggle -->
          <button 
            (click)="themeService.toggleTheme()" 
            class="p-3 bg-white/10 hover:bg-white/20 rounded-full transition-all backdrop-blur-sm group"
            title="Alternar tema">
            @if (themeService.isDarkMode()) {
              <svg class="w-5 h-5 text-white group-hover:rotate-180 transition-transform duration-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"/>
              </svg>
            } @else {
              <svg class="w-5 h-5 text-white group-hover:rotate-12 transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"/>
              </svg>
            }
          </button>
        </div>
      </div>
    </div>
  </div>

  <div class="max-w-5xl mx-auto px-8 py-8 pb-16">
    
    @if (loadingProfile) {
      <div class="card-luxury p-16 text-center border border-gray-100 dark:border-white/10">
        <div class="relative inline-block">
          <div class="animate-spin rounded-full h-20 w-20 border-4 border-green-500 border-t-transparent"></div>
        </div>
        <p class="text-gray-600 dark:text-gray-300 mt-6 text-lg font-medium">A carregar perfil...</p>
      </div>
    } @else {
    
    <!-- Profile Picture Section -->
    <div class="card-luxury p-8 mb-8 border border-gray-100 dark:border-white/10">
      <h2 class="text-2xl font-bold text-gray-900 dark:text-white mb-6 flex items-center gap-2">
        <svg class="w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"/>
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 13a3 3 0 11-6 0 3 3 0 016 0z"/>
        </svg>
        Foto de Perfil
      </h2>
      <div class="flex items-center gap-8">
        <div class="relative group">
          <img 
            [src]="getImageUrl(currentUser?.profileImageUrl)"
            [alt]="currentUser?.firstName + ' ' + currentUser?.lastName"
            class="w-32 h-32 rounded-full object-cover border-4 border-green-200 dark:border-green-800 shadow-lg group-hover:scale-105 transition-transform"
            (error)="handleImageError($event)" />
          <label class="absolute bottom-0 right-0 bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white p-3 rounded-full cursor-pointer transition-all shadow-lg hover:scale-110">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"/>
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 13a3 3 0 11-6 0 3 3 0 016 0z"/>
            </svg>
            <input type="file" accept="image/*" (change)="onFileSelected($event)" class="hidden" />
          </label>
        </div>
        <div class="flex-1">
          <h3 class="text-2xl font-bold text-gray-900 dark:text-white mb-2">{{ currentUser?.firstName }} {{ currentUser?.lastName }}</h3>
          <p class="text-gray-600 dark:text-gray-400 mb-2 flex items-center gap-2">
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
            </svg>
            {{ currentUser?.email }}
          </p>
          <div class="flex items-center gap-2">
            <div class="w-2 h-2 bg-green-500 rounded-full animate-pulse"></div>
            <span class="text-sm font-semibold text-green-600 dark:text-green-400">Agente Imobili√°rio Ativo</span>
          </div>
          <p class="text-sm text-gray-500 dark:text-gray-400 mt-4">JPG, PNG ou GIF (m√°x. 5MB)</p>
        </div>
      </div>
    </div>

    <!-- Personal Information Section -->
    <div class="card-luxury p-8 mb-8 border border-gray-100 dark:border-white/10">
      <div class="flex items-center justify-between mb-6">
        <h2 class="text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-2">
          <svg class="w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
          </svg>
          Informa√ß√µes Pessoais
        </h2>
        @if (!editMode) {
          <button 
            (click)="toggleEditMode()"
            class="px-6 py-2.5 bg-gradient-to-r from-blue-500 to-teal-600 hover:from-blue-600 hover:to-teal-700 text-white font-semibold rounded-xl transition-all shadow-md flex items-center gap-2">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"/>
            </svg>
            Editar
          </button>
        }
      </div>

      <form (ngSubmit)="saveProfile()" class="space-y-6">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          
          <!-- First Name -->
          <div>
            <label class="block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2">Primeiro Nome</label>
            @if (editMode) {
              <input 
                type="text" 
                [(ngModel)]="profileForm.firstName"
                name="firstName"
                required
                class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-dark-800 text-gray-900 dark:text-white rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all">
            } @else {
              <p class="text-lg text-gray-900 dark:text-white py-2">{{ currentUser?.firstName }}</p>
            }
          </div>

          <!-- Last Name -->
          <div>
            <label class="block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2">Apelido</label>
            @if (editMode) {
              <input 
                type="text" 
                [(ngModel)]="profileForm.lastName"
                name="lastName"
                required
                class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-dark-800 text-gray-900 dark:text-white rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all">
            } @else {
              <p class="text-lg text-gray-900 dark:text-white py-2">{{ currentUser?.lastName }}</p>
            }
          </div>

          <!-- Email (read-only) -->
          <div>
            <label class="block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2">Email</label>
            <p class="text-lg text-gray-900 dark:text-white py-2">{{ currentUser?.email }}</p>
            <p class="text-xs text-gray-500 dark:text-gray-400 mt-1 flex items-center gap-1">
              <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"/>
              </svg>
              O email n√£o pode ser alterado
            </p>
          </div>

          <!-- Phone Number -->
          <div>
            <label class="block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2">Telefone</label>
            @if (editMode) {
              <input 
                type="tel" 
                [(ngModel)]="profileForm.phoneNumber"
                name="phoneNumber"
                class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-dark-800 text-gray-900 dark:text-white rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all">
            } @else {
              <p class="text-lg text-gray-900 dark:text-white py-2">{{ currentUser?.phoneNumber || 'N√£o definido' }}</p>
            }
          </div>

          <!-- Address -->
          <div class="md:col-span-2">
            <label class="block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2">Morada</label>
            @if (editMode) {
              <input 
                type="text" 
                [(ngModel)]="profileForm.address"
                name="address"
                class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-dark-800 text-gray-900 dark:text-white rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all">
            } @else {
              <p class="text-lg text-gray-900 dark:text-white py-2">{{ currentUser?.address || 'N√£o definido' }}</p>
            }
          </div>
        </div>

        <!-- Action Buttons -->
        @if (editMode) {
          <div class="flex gap-4 pt-6 border-t border-gray-200 dark:border-white/10">
            <button 
              type="submit"
              [disabled]="loading"
              class="px-8 py-3.5 bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white font-bold rounded-xl transition-all shadow-lg hover:shadow-xl disabled:opacity-50 flex items-center gap-2">
              @if (loading) {
                <div class="animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent"></div>
                A guardar...
              } @else {
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                </svg>
                Guardar Altera√ß√µes
              }
            </button>
            <button 
              type="button"
              (click)="toggleEditMode()"
              [disabled]="loading"
              class="px-8 py-3.5 bg-gray-200 dark:bg-dark-700 hover:bg-gray-300 dark:hover:bg-dark-600 text-gray-700 dark:text-gray-300 font-bold rounded-xl transition-all disabled:opacity-50 flex items-center gap-2">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
              </svg>
              Cancelar
            </button>
          </div>
        }
      </form>
    </div>

    <!-- Professional Information Section -->
    @if (agentProfile) {
      <div class="card-luxury p-8 mb-8 border border-gray-100 dark:border-white/10">
        <h2 class="text-2xl font-bold text-gray-900 dark:text-white mb-6 flex items-center gap-2">
          <svg class="w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
          </svg>
          Informa√ß√µes Profissionais
        </h2>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          
          <!-- License Number -->
          @if (agentProfile.licenseNumber) {
            <div class="p-4 bg-gradient-to-br from-green-50 to-teal-50 dark:from-green-900/20 dark:to-teal-900/20 rounded-xl border border-green-200 dark:border-green-800/30">
              <p class="text-sm text-gray-600 dark:text-gray-400 mb-1 flex items-center gap-2">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
                </svg>
                Licen√ßa AMI
              </p>
              <p class="text-lg font-bold text-green-700 dark:text-green-400">{{ agentProfile.licenseNumber }}</p>
            </div>
          }

          <!-- Specialization -->
          @if (agentProfile.specialization) {
            <div class="p-4 bg-gray-50 dark:bg-dark-800 rounded-xl">
              <p class="text-sm text-gray-600 dark:text-gray-400 mb-1">Especializa√ß√£o</p>
              <p class="text-lg font-semibold text-gray-900 dark:text-white">{{ agentProfile.specialization }}</p>
            </div>
          }

          <!-- Total Sales -->
          <div class="p-4 bg-gradient-to-br from-blue-50 to-teal-50 dark:from-blue-900/20 dark:to-teal-900/20 rounded-xl border border-blue-200 dark:border-blue-800/30">
            <p class="text-sm text-gray-600 dark:text-gray-400 mb-1">Total de Vendas</p>
            <p class="text-2xl font-bold text-blue-700 dark:text-blue-400">{{ agentProfile.totalSales }}</p>
          </div>

          <!-- Total Listings -->
          <div class="p-4 bg-gray-50 dark:bg-dark-800 rounded-xl">
            <p class="text-sm text-gray-600 dark:text-gray-400 mb-1">Total de An√∫ncios</p>
            <p class="text-2xl font-bold text-gray-900 dark:text-white">{{ agentProfile.totalListings }}</p>
          </div>

          <!-- Rating -->
          <div class="p-4 bg-gradient-to-br from-yellow-50 to-orange-50 dark:from-yellow-900/20 dark:to-orange-900/20 rounded-xl border border-yellow-200 dark:border-yellow-800/30">
            <p class="text-sm text-gray-600 dark:text-gray-400 mb-1">Avalia√ß√£o</p>
            <div class="flex items-center gap-2">
              <p class="text-2xl font-bold text-yellow-700 dark:text-yellow-400">{{ agentProfile.rating.toFixed(1) }}</p>
              <svg class="w-6 h-6 text-yellow-500" fill="currentColor" viewBox="0 0 20 20">
                <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
              </svg>
              <p class="text-sm text-gray-600 dark:text-gray-400">({{ agentProfile.reviewCount }} avalia√ß√µes)</p>
            </div>
          </div>

          <!-- Revenue -->
          <div class="p-4 bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-xl border border-green-200 dark:border-green-800/30">
            <p class="text-sm text-gray-600 dark:text-gray-400 mb-1">Receita Total</p>
            <p class="text-2xl font-bold text-green-700 dark:text-green-400">‚Ç¨{{ agentProfile.totalRevenue.toLocaleString('pt-PT') }}</p>
          </div>

          <!-- Commission Rate -->
          @if (agentProfile.commissionRate) {
            <div class="p-4 bg-gray-50 dark:bg-dark-800 rounded-xl md:col-span-2">
              <p class="text-sm text-gray-600 dark:text-gray-400 mb-1">Taxa de Comiss√£o</p>
              <p class="text-lg font-semibold text-gray-900 dark:text-white">{{ (agentProfile.commissionRate * 100).toFixed(1) }}%</p>
            </div>
          }

          <!-- Office Contact -->
          <div class="md:col-span-2 grid grid-cols-1 md:grid-cols-2 gap-4">
            @if (agentProfile.officeEmail) {
              <div class="p-4 bg-gray-50 dark:bg-dark-800 rounded-xl">
                <p class="text-sm text-gray-600 dark:text-gray-400 mb-1">Email do Escrit√≥rio</p>
                <p class="text-base font-semibold text-gray-900 dark:text-white">{{ agentProfile.officeEmail }}</p>
              </div>
            }
            @if (agentProfile.officePhone) {
              <div class="p-4 bg-gray-50 dark:bg-dark-800 rounded-xl">
                <p class="text-sm text-gray-600 dark:text-gray-400 mb-1">Telefone do Escrit√≥rio</p>
                <p class="text-base font-semibold text-gray-900 dark:text-white">{{ agentProfile.officePhone }}</p>
              </div>
            }
          </div>
        </div>
      </div>
    }

    <!-- Password Section -->
    <div class="card-luxury p-8 border border-gray-100 dark:border-white/10">
      <div class="flex items-center justify-between mb-6">
        <h2 class="text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-2">
          <svg class="w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"/>
          </svg>
          Seguran√ßa
        </h2>
        <button 
          (click)="togglePasswordSection()"
          class="px-6 py-2.5 bg-gradient-to-r from-blue-500 to-teal-600 hover:from-blue-600 hover:to-teal-700 text-white font-semibold rounded-xl transition-all shadow-md flex items-center gap-2">
          @if (showPasswordSection) {
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
            </svg>
            Cancelar
          } @else {
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"/>
            </svg>
            Alterar Password
          }
        </button>
      </div>

      @if (showPasswordSection) {
        <form (ngSubmit)="changePassword()" class="space-y-5">
          
          <div>
            <label class="block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2">Password Atual</label>
            <input 
              type="password" 
              [(ngModel)]="passwordForm.currentPassword"
              name="currentPassword"
              required
              class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-dark-800 text-gray-900 dark:text-white rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all">
          </div>

          <div>
            <label class="block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2">Nova Password</label>
            <input 
              type="password" 
              [(ngModel)]="passwordForm.newPassword"
              name="newPassword"
              required
              minlength="6"
              class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-dark-800 text-gray-900 dark:text-white rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all">
            <p class="text-xs text-gray-500 dark:text-gray-400 mt-1 flex items-center gap-1">
              <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
              </svg>
              M√≠nimo de 6 caracteres, recomendado incluir letras, n√∫meros e s√≠mbolos
            </p>
          </div>

          <div>
            <label class="block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2">Confirmar Nova Password</label>
            <input 
              type="password" 
              [(ngModel)]="passwordForm.confirmPassword"
              name="confirmPassword"
              required
              class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-dark-800 text-gray-900 dark:text-white rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all">
          </div>

          <div class="flex gap-4 pt-6 border-t border-gray-200 dark:border-white/10">
            <button 
              type="submit"
              [disabled]="loading"
              class="px-8 py-3.5 bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white font-bold rounded-xl transition-all shadow-lg hover:shadow-xl disabled:opacity-50 flex items-center gap-2">
              @if (loading) {
                <div class="animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent"></div>
                A processar...
              } @else {
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"/>
                </svg>
                Alterar Password
              }
            </button>
            <button 
              type="button"
              (click)="togglePasswordSection()"
              [disabled]="loading"
              class="px-8 py-3.5 bg-gray-200 dark:bg-dark-700 hover:bg-gray-300 dark:hover:bg-dark-600 text-gray-700 dark:text-gray-300 font-bold rounded-xl transition-all disabled:opacity-50 flex items-center gap-2">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
              </svg>
              Cancelar
            </button>
          </div>
        </form>
      } @else {
        <div class="p-6 bg-gray-50 dark:bg-dark-800 rounded-xl">
          <p class="text-2xl text-gray-900 dark:text-white font-mono tracking-wider">‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢</p>
          <p class="text-sm text-gray-500 dark:text-gray-400 mt-2">√öltima altera√ß√£o: Nunca</p>
        </div>
      }
    </div>
    
    }
  </div>
</div>
